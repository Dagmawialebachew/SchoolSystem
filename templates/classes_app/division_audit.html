{% extends 'base.html' %}
{% block title %}Audit Log â€“ {{ division.name }}{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">Audit Log for {{ division.name }}</h1>

<div class="bg-white rounded-xl border border-neutral-200 shadow-sm">
  <table class="min-w-full text-sm">
    <thead class="bg-gray-50">
      <tr>
        <th class="px-4 py-2 text-left">Timestamp</th>
        <th class="px-4 py-2 text-left">Action</th>
        <th class="px-4 py-2 text-left">Actor</th>
        <th class="px-4 py-2 text-left">Changes</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100">
      {% for log in logs %}
      <tr>
        <td class="px-4 py-2">{{ log.timestamp|date:"M d, Y H:i" }}</td>
        <td class="px-4 py-2">{{ log.get_action_display }}</td>
        <td class="px-4 py-2">{{ log.actor|default:"System" }}</td>
        <td class="px-4 py-2">{{ log.changes }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4" class="px-4 py-6 text-center text-neutral-500">
          <i class="fas fa-info-circle mr-1"></i>No audit entries yet.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
