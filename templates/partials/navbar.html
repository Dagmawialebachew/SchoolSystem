<!-- navbar.html -->
{% load static %}
<nav class="fixed top-0 left-0 w-full z-50 backdrop-blur-md bg-gradient-to-r from-primary-600 via-primary-700 to-primary-800/95 text-white shadow border-b border-white/10 transition-all duration-300">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">

      <!-- Left: Brand -->
      <div class="flex items-center space-x-3">
  <div class="flex items-center gap-2">
    <!-- Replace SS with your logo -->
    <div class="w-9 h-9 rounded-xl bg-white flex items-center justify-center shadow-sm overflow-hidden">
      <img src="{% static 'images/logo.webp' %}" alt="SchoolSystem Logo" class="w-full h-full object-contain">
    </div>
    <h1 class="text-lg md:text-xl font-semibold tracking-tight hover:text-secondary-100 transition-colors duration-200">
      SchoolSystem
    </h1>
  </div>
  {% if user.school %}
    <span class="hidden sm:inline-block text-sm text-neutral-200 italic ml-2">
      {{ user.school.name }}
    </span>
  {% endif %}
</div>


      <!-- Right: Desktop -->
      <div class="hidden md:flex items-center space-x-4">
        <div class="flex items-center space-x-2">
          <div class="w-8 h-8 rounded-full bg-white/10 border border-white/20 flex items-center justify-center text-sm font-semibold uppercase">
            {{ user.get_full_name|default:user.username|first }}
          </div>
          <div class="text-sm">
            <p class="font-medium leading-tight">{{ user.get_full_name|default:user.username }}</p>
            <span class="text-xs text-neutral-300">{{ user.get_role_display }}</span>
          </div>
        </div>

        <form method="post" action="{% url 'accounts:logout' %}" class="ml-4">
          {% csrf_token %}
          <button type="submit" class="px-3 py-1.5 text-sm font-medium rounded-lg bg-white/10 hover:bg-white/20 transition-colors duration-200">
            Logout
          </button>
        </form>
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden flex items-center">
        <button id="mobile-menu-button" class="p-2 rounded-lg hover:bg-white/10 focus:outline-none transition">
          <i class="fas fa-bars text-white text-lg"></i>
        </button>
      </div>

    </div>
  </div>

  <!-- Mobile Dropdown -->
  <div id="mobile-menu" class="md:hidden hidden border-t border-white/10 bg-primary-700/95 backdrop-blur-md shadow-lg rounded-b-2xl animate-fadeIn">
    <div class="px-4 py-4 space-y-3">
      <div class="flex items-center space-x-3">
        <div class="w-9 h-9 rounded-full bg-white/10 flex items-center justify-center text-sm font-semibold uppercase">
          {{ user.get_full_name|default:user.username|first }}
        </div>
        <div>
          <p class="text-sm font-medium">{{ user.get_full_name|default:user.username }}</p>
          <p class="text-xs text-neutral-300">{{ user.get_role_display }}</p>
        </div>
      </div>

      <form method="post" action="{% url 'accounts:logout' %}">
        {% csrf_token %}
        <button type="submit" class="w-full mt-2 px-4 py-2 text-sm font-medium rounded-lg bg-white/10 hover:bg-white/20 transition">
          Logout
        </button>
      </form>
    </div>
  </div>
</nav>



<style>
@keyframes slideDown { from { opacity: 0; transform: translateY(-8px); } to { opacity: 1; transform: translateY(0); } }
.animate-slideDown { animation: slideDown 0.25s ease-out; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.animate-fadeIn { animation: fadeIn 0.3s ease-in-out; }
</style>
